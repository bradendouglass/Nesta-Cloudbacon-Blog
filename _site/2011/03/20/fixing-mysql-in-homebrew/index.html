<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta content='Silent ramblings of a journeyman programmer, humorist, card shark and purveyor of immitation squid. Delicious responses only.' name='description'>
  <meta content='ruby, javascript, vim, getting shit down, programming' name='keywords'>
  <meta content='SBXXrnW2v5Elw-cI3bPH80gzqH0kYjLruN0e3zHlNYg' name='google-site-verification'>

  <title>
    
      Fixing MYSQL in Homebrew &middot; Cloudbacon
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Silent ramblings of a journeyman programmer, humorist, card shark and purveyor of immitation squid. Delicious responses plucked from <a href="twitter.com/braidn">the mind of Braidn</a></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="/archive/v1.0.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Cloudbacon</a>
            <small>A flowy thought place</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Fixing MYSQL in Homebrew</h1>
  <span class="post-date">20 Mar 2011</span>
  <p><em>EDIT</em>: Sometimes this doesn’t happen. It seems to be a random occurrence on a random smattering of systems.</p>

<p>If you are even thinking about a career or just having some fun with software development, I recommend a handy little company named Apple and a package manager called <a href="http://mxcl.github.com/homebrew/">Homebrew</a>. Mac OS X (pronounced O-S 10) is basically a prettier shell of <a href="http://en.wikipedia.org/wiki/Unix">Unix</a>, minus all the kick ass packet managers (APT, MiKTex, YUM, etc). These “package managers” allow the user to install and uninstall applications via the terminal without having to do all that <a href="http://www.codecoffee.com/tipsforlinux/articles/27.html">make, make install bullshit</a>. I have been using Homebrew without a problem up until yesterday when I attempted to install MySQL.</p>

<p>Most people don’t need to worry about these things because there is an application called <a href="http://www.mamp.info/en/index.html">MAMP</a> that takes all the legwork out of dealing with Apache, MySQL, and PHP on your Mac. If you want something fairly robust and plan only on doing HTML, CSS, and PHP then this little application should be fine for your needs. If you decide you want to branch out into Ruby, Rails, Django, etc you might find the need to install these items via source. However, this brings me to another point. <a href="http://dev.mysql.com/">The MySQL dev page</a> has a simple .dmg that you can use to download and install MySQL on your Mac.  So wait…why on earth would I pull my hair out for six plus hours trying to get MySQL to function properly with Homebrew?</p>

<p>Homebrew creates a simple repository for all your package needs and <a href="http://en.wikipedia.org/wiki/Symbolic_link">symlinks</a> the files into their required locations. This makes updating packages ridiculously easy as well as installing said packages. No needing to guess if you removed all those pesky files sitting around your system. Simply type:</p>

<script src="https://gist.github.com/2711119.js?file=brew install"></script>

<p>and you are golden. Golden until you try to grab the MySQL formula. Without further ado, let’s fire up <a href="http://code.google.com/p/iterm2/">ITerm2</a> or Terminal and get this functioning:</p>

<p>First make damn sure that /usr/local is rocking the correct permissions required by Homebrew. After a major OS X upgrade (from 10.6.5 to 10.6.6) this folder can revert back to its’ default permissions. To solve this we:</p>

<script src="https://gist.github.com/2711119.js?file=chown"></script>

<p>NOTE: The correct snippet uses primes (`) (the mark beside the number one on a US Keyboard), not single quotes. For some reason these don’t parse well with Wordpress. This just gives you ownership under /usr/local so you don’t have to install every formula with the sudo command. Some people have “security” issues with doing this but, they are just really just crybabies. Next tell Homebrew that you really want the MySQL formula:</p>

<script src="https://gist.github.com/2711119.js?file=brew mysql"></script>

<p>This should take some time, don’t worry. When it finishes it will regurgitate some commands to finish the installation. Here is what we need to do:</p>

<script src="https://gist.github.com/2711119.js?file=build mysql"></script>

<p>Some people have issues with this without prepending “sudo.” If the chown -R command worked successfully, it should build all the default tables and the root user. Normally the root user is created without a password but, through this installation, the MySQL instance is actually created without any dummy tables or users (even root!). Before we go any further let’s make sure that the server is off:</p>

<script src="https://gist.github.com/2711119.js?file=launch_ctl"></script>

<p>Next, lets force the server (mysqld) to startup regardless of permissions:</p>

<script src="https://gist.github.com/2711119.js?file=grant-tables"></script>

<p>Now that the server is running open a separate window or tab (in Terminal/iTerm) and login to the server with:</p>

<script src="https://gist.github.com/2711119.js?file=u root"></script>

<p>If everything worked out, you should be presented with a mysql&gt; prompt and full access to the database. Next up on the chopping block, we need to create some users. When issuing the next couple of commands the server should tell you that 0 tables were changed. Don’t fret, we aren’t changing tables, just permissions; MySQL is obligated to tell you every little thing it does…it is boring like that. In addition, all of the below is case-sensitive (For peeps who don’t work with strait MySQL queries)</p>

<script src="https://gist.github.com/2711119.js?file=gistfile1.sql"></script>

<p>Change the “YOUR_PASSWORD” field to whatever you like and DONE! Yep, that is it. Now you can start and stop the MySQL server at will with:</p>

<script src="https://gist.github.com/2711119.js?file=server stop start"></script>

<p>After figuring out all of this around 3am this Sunday morning, I realized that my life is nothing but a bag of awesome-problem solving door knobs. Go forth and install MySQL not through MAMP or the dev .dmg but, through a fully featured, and sometimes broken (there will always be trade offs) package manager.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2015/05/03/webpack-rails-sprockets/">
            Webpack Hot Reload And Rails
            <small>03 May 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/04/05/infinity-keyboard-info/">
            Infinity Keyboard
            <small>05 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/03/20/debugging-on-go/">
            Problem Solving In Golang
            <small>20 Mar 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
